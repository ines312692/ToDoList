pipeline {
  agent { label 'frontend' }

    parameters {
    string(name: 'IMAGE_NAME', defaultValue: 'todo-frontend:latest')
     string(name: 'NETWORK_NAME', defaultValue: 'todo-network')
    }

    stages {
    stage('Checkout') {
      steps {

          checkout scm
                }
            }


        stage('Build & Test') {
      steps {
        dir('To_Do_List') {

                }
            }
        }

        stage('Build Docker Image') {
      steps {

          sh "docker build -t ${params.IMAGE_NAME} To_Do_List"

            }
        }
    }

    post {
    success {
      echo "Frontend build terminé avec succès !"
        }
        failure {
      echo "Frontend build échoué."
        }
    }
}
